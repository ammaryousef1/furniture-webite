(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4591],{49692:function(e,t,s){"use strict";var a,i,n;s.r(t);let l={fragment:{argumentDefinitions:[a={defaultValue:null,kind:"LocalArgument",name:"apiKey"},i={defaultValue:null,kind:"LocalArgument",name:"apiUrl"}],kind:"Fragment",metadata:null,name:"BotInfoFormRunCheckMutation",selections:n=[{alias:null,args:[{kind:"Variable",name:"apiKey",variableName:"apiKey"},{kind:"Variable",name:"apiUrl",variableName:"apiUrl"}],concreteType:"PoeApiBotCheck",kind:"LinkedField",name:"poeApiBotCheck",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null}],type:"MutationRoot",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[i,a],kind:"Operation",name:"BotInfoFormRunCheckMutation",selections:n},params:{cacheID:"a798fd42f1c32cc6bf3f15ac26d8cced",id:null,metadata:{},name:"BotInfoFormRunCheckMutation",operationKind:"mutation",text:"mutation BotInfoFormRunCheckMutation(\n  $apiUrl: String!\n  $apiKey: String!\n) {\n  poeApiBotCheck(apiUrl: $apiUrl, apiKey: $apiKey) {\n    status\n  }\n}\n"}};l.hash="85d27b82d4fd13f566ee65accac9aa48",t.default=l},13641:function(e,t,s){"use strict";s.r(t);let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BotInfoForm_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"includeNewModel",value:!0}],concreteType:"Bot",kind:"LinkedField",name:"availableBots",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"model",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"allowsUserCreation",storageKey:null}],storageKey:"availableBots(includeNewModel:true)"}],type:"Viewer",abstractKey:null};a.hash="7dc56822ac832cb8385e2f593497b57d",t.default=a},5577:function(e,t,s){"use strict";s.d(t,{Z:function(){return en}});var a,i,n,l,r,o,c,d=s(85893),u=s(25675),m=s.n(u),h=s(41664),p=s.n(h),v=s(42496),x=s(67294),f=s(87536),g=s(22578),_=s(70682),b=s(84140),j=s(59564),w=s(23788),N=s(92356),I=s(46309),k=s(76015),B=s.n(k);let F=x.forwardRef(function(e,t){return(0,d.jsxs)("div",{className:B().selectdiv,children:[(0,d.jsx)("select",{className:B().select,ref:t,...e,children:e.children}),(0,d.jsx)(I.Z,{className:B().chevronIcon})]})}),y=x.forwardRef(function(e,t){return(0,d.jsx)("option",{ref:t,...e})});var S=s(88409),C=s.n(S);let P=(0,x.forwardRef)((e,t)=>{let{label:s,hidden:a,...i}=e;return(0,d.jsxs)("div",{className:C().toggleRow,"data-hidden":a,children:[(0,d.jsx)("div",{children:s}),(0,d.jsxs)("label",{className:C().switch,children:[(0,d.jsx)("input",{ref:t,className:C().input,type:"checkbox",...i}),(0,d.jsx)("span",{className:C().slider})]})]})});function T(){return(T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}P.displayName="ToggleSwitch";var R=function(e){return x.createElement("svg",T({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),i||(i=x.createElement("path",{d:"M7.5 20c-.12 0-.24-.02-.35-.06-.39-.15-.65-.52-.65-.94v-3h-1C3.57 16 2 14.43 2 12.5v-7C2 3.57 3.57 2 5.5 2h9C16.43 2 18 3.57 18 5.5v7c0 1.93-1.57 3.5-3.5 3.5h-3.05l-3.2 3.66c-.19.22-.47.34-.75.34Zm-2-16C4.67 4 4 4.67 4 5.5v7c0 .83.67 1.5 1.5 1.5h2c.55 0 1 .45 1 1v1.34l1.75-2A.98.98 0 0 1 11 14h3.5c.83 0 1.5-.67 1.5-1.5v-7c0-.83-.67-1.5-1.5-1.5h-9Z"})),n||(n=x.createElement("path",{d:"M6.75 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM10 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM13.25 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM20 12v6h-2c-.43 0-.79.27-.94.65l-.36-.36A.99.99 0 0 0 16 18H12.36l-.7.79c.31.71 1.02 1.21 1.84 1.21h2.09l1.71 1.71c.18.19.44.29.7.29.13 0 .26-.02.38-.08.38-.15.62-.52.62-.92v-1h1c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2Z"})))},L=s(57758);function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var E=function(e){return x.createElement("svg",A({viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),l||(l=x.createElement("path",{d:"M19.88 3H4.12C2.95 3 2 3.95 2 5.12v10.42c0 1.17.95 2.12 2.12 2.12H11v1.83H8.06c-.55 0-1 .45-1 1s.45 1 1 1h7.7c.55 0 1-.45 1-1s-.45-1-1-1H13v-1.83h6.88c1.17 0 2.12-.95 2.12-2.12V5.12C22 3.95 21.05 3 19.88 3ZM20 15.54c0 .07-.06.12-.12.12H4.12c-.06.01-.12-.05-.12-.12V5.12c0-.06.06-.12.12-.12h15.75c.07 0 .13.06.13.12v10.42Z"})))};function M(){return(M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}var D=function(e){return x.createElement("svg",M({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},e),r||(r=x.createElement("path",{fill:"currentColor",d:"M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"})),o||(o=x.createElement("path",{fill:"currentColor",d:"M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"})))},K=s(41114),U=s(50618),Z=s(20677),O=s.n(Z),q=s(22546),V=s(36253);(a=c||(c={})).success="success",a.invalid_settings="invalid_settings",a.timed_out="timed_out",a.other_failure="other_failure";var H=c;let z=e=>{let[t,s]=(0,x.useState)(void 0);return(0,x.useEffect)(()=>{if(e){let t=new FileReader;t.onload=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&s(e.target.result)},t.readAsDataURL(e)}else s(void 0)},[e]),t},W=e=>{let{children:t}=e;return(0,d.jsx)("div",{className:O().errorText,children:t})},Q=e=>{let{watch:t,defaultSrc:s}=e,a=t("image"),i=z(null==a?void 0:a[0]);return(0,d.jsx)(m(),{className:O().botImage,src:i||s||v.Z,alt:"Bot image",width:32,height:32})},G=e=>{let{watch:t,defaultProfilePictureSrc:s}=e,a=t("name"),i=t("introduction"),n=t("hasMarkdownRendering");return(0,d.jsxs)("div",{className:O().previewArea,children:[(0,d.jsxs)("div",{className:O().previewHeader,children:[(0,d.jsx)(Q,{defaultSrc:s,watch:t}),(0,d.jsx)("div",{className:O().previewTitle,children:a})]}),(0,d.jsxs)("div",{className:O().previewMessageArea,children:[(0,d.jsx)(_.OH,{}),i&&(0,d.jsx)(_.YD,{text:i,isBot:!0,isOptimistic:!1,timeoutLevel:0,state:V.Z.complete,allowImages:!1,contentType:n?q.Z.text_markdown:q.Z.text_plain})]})]})};function $(e,t){return s=>new TextEncoder().encode(s).length<e||t}let J=e=>{let{register:t,profilePictureUrl:s,nameErrorMessage:a}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(N.Z,{defaultSrc:s||v.Z,...t("image")}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Bot name"}),(0,d.jsx)("div",{className:O().subtext,children:"Bot name should be unique and 4-15 alphanumeric characters."}),(0,d.jsx)("input",{className:O().input,...t("name",{required:{value:!0,message:"Bot name is required."},maxLength:{value:15,message:"Bot name should be 15 or fewer characters."},minLength:{value:4,message:"Bot name should be 4 or more characters."},pattern:{value:/^[A-Za-z0-9]{4,15}$/,message:"Bot name can only include letters and numbers (no spaces)."}})}),a&&(0,d.jsx)(W,{children:a})]}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Bot description"}),(0,d.jsx)("textarea",{className:O().textarea,placeholder:"Optional",...t("description")})]})]})},Y=e=>{let{startExpanded:t,register:s,watch:a}=e,[i,n]=(0,x.useState)(t),l=O().chevronDown;i&&(l+=" "+O().chevronDownExpanded);let r=(0,x.useCallback)(()=>{n(e=>!e)},[]),o=a("hasMarkdownRendering");return(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsxs)("div",{className:O().sectionTitleWithIcon,onClick:r,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Advanced"}),(0,d.jsx)(L.Z,{className:l})]}),(0,d.jsxs)("div",{"data-hidden":!i||void 0,className:O().toggleSection,children:[(0,d.jsx)(P,{...s("hasSuggestedReplies"),label:"Suggest replies"}),(0,d.jsx)(P,{...s("hasMarkdownRendering"),label:"Render markdown content"}),(0,d.jsxs)("div",{className:O().toggleContainer,children:[(0,d.jsx)(P,{...s("hasLinkification"),label:"Linkify bot responses",disabled:!o||void 0}),(0,d.jsxs)("div",{className:O().helpText,"data-hidden":o||void 0,children:["Turn on ",'"',"Render markdown content",'"'," to enable this feature"]})]})]})]})},X=e=>{let{text:t,isSelected:s,isApi:a,setShowApiFields:i,icon:n}=e,l=(0,x.useCallback)(()=>{i(a)},[a,i]);return(0,d.jsxs)("div",{className:"".concat(O().tabBarItem," ").concat(s?O().tabBarItemSelected:""),onClick:l,children:[n,(0,d.jsx)("div",{children:t})]})},ee=e=>{let{showApiFields:t,setShowApiFields:s}=e;return(0,d.jsxs)("div",{className:O().tabBar,children:[(0,d.jsx)(X,{text:"Use prompt",isSelected:!t,isApi:!1,setShowApiFields:s,icon:(0,d.jsx)(R,{className:O().tabBarItemIcon})}),(0,d.jsx)(X,{text:"Use API",isSelected:t,isApi:!0,setShowApiFields:s,icon:(0,d.jsx)(E,{className:O().tabBarItemIcon})})]})},et=e=>{let{register:t,watch:s,availableBots:a,profilePictureUrl:i,promptErrorMessage:n,introErrorMessage:l,showApiFields:r,startAdvancedFieldsExpanded:o}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Base bot"}),(0,d.jsx)(F,{...t("baseBot",{validate:e=>!!r||!!e}),children:a.filter(e=>{let{allowsUserCreation:t}=e;return t}).map(e=>(0,d.jsx)(y,{value:e.model,children:e.displayName},e.model))})]}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Prompt"}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:O().subtext,children:"All conversations with this bot will start with your prompt but it will not be visible to the user in the chat. If you would like the prompt message to be visible to the user, consider using an intro message instead."}),(0,d.jsxs)(p(),{className:O().subtextLink,target:"_blank",href:"/prompt_examples",children:["View prompt examples",(0,d.jsx)(D,{className:O().subtextLinkIcon})]})]}),(0,d.jsx)(P,{...t("promptIsPublic"),label:"Prompt visible from bot profile"}),(0,d.jsx)("textarea",{className:O().textarea,...t("prompt",{required:{value:!0,message:"Prompt is required"},maxLength:{value:2e3,message:"Prompt must be less than ".concat(2e3," characters.")},validate:$(2500,"Prompt must be less than 2500 bytes.")})}),n&&(0,d.jsx)(W,{children:n})]}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Intro message"}),(0,d.jsx)("div",{className:O().subtext,children:"The bot will send this message at the beginning of every conversation."}),(0,d.jsx)("input",{className:O().input,placeholder:"Optional",...t("introduction",{maxLength:{value:1e3,message:"Intro message must be less than ".concat(1e3," characters.")},validate:$(2500,"Intro message must be less than 2500 bytes.")})}),l&&(0,d.jsx)(W,{children:l})]}),(0,d.jsx)(Y,{register:t,watch:s,startExpanded:o}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Bot preview"}),(0,d.jsx)(G,{defaultProfilePictureSrc:i,watch:s})]})]})},es=e=>{let{watch:t}=e,[a,i]=(0,x.useState)(!1),[n,l]=(0,x.useState)(null),[r]=(0,g.useMutation)(s(49692)),o=(0,x.useCallback)(e=>{e.preventDefault();let s=t("apiUrl"),a=t("apiKey");i(!0),r({variables:{apiUrl:s,apiKey:a},onCompleted:e=>{l(e.poeApiBotCheck.status),i(!1)},onError:()=>{l(H.other_failure),i(!1)}})},[t,r]),c=t("apiUrl"),u=t("apiKey");return(0,x.useEffect)(()=>{l(null)},[c]),(0,x.useEffect)(()=>{l(null)},[u]),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsxs)("div",{className:O().sectionDesktopHorizontal,children:[(0,d.jsxs)("div",{className:"".concat(O().section," ").concat(O().sectionGrow),children:[(0,d.jsx)("div",{className:O().subsectionTitle,children:"Check reachability"}),(0,d.jsx)("div",{className:O().subtext,children:"Send a test settings request to your URL to check its reachability."})]}),(0,d.jsx)(w.PL,{disabled:!c||!u||a,onClick:o,className:O().buttonNoShrink,children:"Run check"})]}),(()=>{if(a)return(0,d.jsx)("div",{className:O().subtext,children:"Running test."});if(!u&&!c)return(0,d.jsx)("div",{className:O().subtext,children:"Please provide an API URL and key."});if(!c)return(0,d.jsx)("div",{className:O().subtext,children:"Please provide an API URL."});if(!u)return(0,d.jsx)("div",{className:O().subtext,children:"Please provide or generate an api key."});if(n==H.success)return(0,d.jsx)("div",{className:O().subtextSuccess,children:"Check successful. Your URL is reachable."});if(n==H.timed_out)return(0,d.jsx)("div",{className:O().subtextFailure,children:"Check failed: the response timed out."});if(n==H.invalid_settings)return(0,d.jsx)("div",{className:O().subtextFailure,children:"Check failed: the response included invalid data."});else if(n==H.other_failure)return(0,d.jsx)("div",{className:O().subtextFailure,children:"Check failed."})})()]})},ea=e=>{let{register:t,watch:s,setValue:a,showApiFields:i,apiUrlErrorMessage:n,apiKeyErrorMessage:l}=e,r=(0,x.useCallback)(e=>{e.preventDefault(),a("apiKey",(0,K._)())},[a]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"API URL"}),(0,d.jsxs)("div",{className:O().subtext,children:["Provide a link to your API bot server. For a quick start on getting an API bot server running, check out our guide at"," ",(0,d.jsx)(p(),{href:"https://github.com/poe-platform/api-bot-tutorial",target:"_blank",className:O().subtextLinkNoFlex,children:"https://github.com/poe-platform/api-bot-tutorial"}),"."]}),(0,d.jsx)("input",{className:O().input,...t("apiUrl",{validate:e=>!!(!i||(0,U.jv)(e))||"Please enter a valid URL."})})]}),n&&(0,d.jsx)(W,{children:n}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"API Key"}),(0,d.jsx)("div",{className:O().subtext,children:"This 32-character authentication key will be passed along with the request to your API server."}),(0,d.jsxs)("div",{className:O().sectionDesktopHorizontal,children:[(0,d.jsx)("input",{className:O().input,...t("apiKey",{validate:e=>!i||32==e.length||"Please enter or use the button to generate a valid API key."})}),(0,d.jsx)(w.PL,{type:"button",onClick:r,children:"Regenerate"})]}),l&&(0,d.jsx)(W,{children:l})]}),(0,d.jsx)(es,{watch:s}),(0,d.jsxs)("div",{className:O().section,children:[(0,d.jsx)("div",{className:O().sectionTitle,children:"Bot Access"}),(0,d.jsx)("div",{children:(0,d.jsx)("div",{className:O().subtext,children:"If this setting is enabled, the bot will be added to your profile and will be publicly accessible. Turning this off will make the bot private."})}),(0,d.jsx)(P,{...t("botIsPublic"),label:"Bot publicly accessible"})]})]})},ei=e=>{var t,a,i,n,l;let{onSubmit:r,viewer:o,prompt:c,baseBot:u="a2",name:m,isPromptPublic:h=!0,introduction:p,description:v,profilePictureUrl:_,submitText:w,apiKey:N,apiUrl:I,isApiBot:k=!1,allowSwitchingBotType:B=!1,hasLinkification:F=!1,hasMarkdownRendering:y=!0,hasSuggestedReplies:S=!1,disclaimer:C,isPrivateBot:P,botVisibilityNote:T}=e,{availableBots:R}=(0,g.useFragment)(s(13641),o),{register:L,handleSubmit:A,watch:E,formState:{errors:M},setValue:D}=(0,f.cI)({defaultValues:{name:m,description:v,baseBot:u,prompt:c,promptIsPublic:h,introduction:p,image:void 0,apiKey:N,apiUrl:I,isApiBot:k,hasLinkification:F,hasMarkdownRendering:y,hasSuggestedReplies:S,botIsPublic:!P},mode:"onBlur"}),K=(0,x.useMemo)(()=>F||!y||S,[]),[U,Z]=(0,x.useState)(!1),[q,V]=(0,x.useState)(k),{shouldShowNux:H}=(0,b.Bi)();return(0,d.jsxs)("form",{className:O().form,onSubmit:A(async e=>{if(!H){e.isApiBot=q,q&&(e.baseBot=null!=u?u:"",e.promptIsPublic=null!=h&&h,e.introduction=null!=p?p:"",e.prompt=null!=c?c:""),Z(!0);try{await r(e)}catch(e){throw Z(!1),e}Z(!1)}}),children:[(0,d.jsx)(J,{register:L,profilePictureUrl:_,nameErrorMessage:null===(t=M.name)||void 0===t?void 0:t.message}),B&&(0,d.jsx)(ee,{showApiFields:q,setShowApiFields:V}),q?(0,d.jsx)(ea,{register:L,watch:E,setValue:D,showApiFields:q,apiUrlErrorMessage:null===(a=M.apiUrl)||void 0===a?void 0:a.message,apiKeyErrorMessage:null===(i=M.apiKey)||void 0===i?void 0:i.message}):(0,d.jsx)(et,{register:L,watch:E,availableBots:R,profilePictureUrl:_,promptErrorMessage:null===(n=M.prompt)||void 0===n?void 0:n.message,introErrorMessage:null===(l=M.introduction)||void 0===l?void 0:l.message,showApiFields:q,startAdvancedFieldsExpanded:K}),(0,d.jsxs)("div",{className:O().submitButtonSection,children:[(0,d.jsx)(j.Z,{type:"submit",disabled:U,variant:"primary",children:w}),(C||T)&&(0,d.jsxs)("div",{className:O().submitDisclaimer,children:[!q&&(null!=T?T:"")," ",null!=C?C:""]})]})]})};var en=ei},32005:function(e,t,s){"use strict";var a=s(85893),i=s(48688),n=s(66474);let l=e=>(0,a.jsx)(i.Z,{leftNavItem:(0,a.jsx)(n.Z,{}),...e});t.Z=l},92356:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(85893),i=s(25675),n=s.n(i),l=s(67294),r=s(46226),o=s.n(r),c=s(23788);let d=e=>{let{defaultSrc:t,onChangeRef:s,size:i=80,onClick:r}=e,[c,d]=(0,l.useState)(null);return s.current=(0,l.useCallback)(e=>{var t,s;if(null===(t=e.target)||void 0===t?void 0:null===(s=t.files)||void 0===s?void 0:s.length){let t=new FileReader;t.onload=e=>{var t;(null===(t=e.target)||void 0===t?void 0:t.result)&&d(e.target.result)},t.readAsDataURL(e.target.files[0])}else d(null)},[]),(0,a.jsx)(n(),{className:o().displayImage,src:c||t,alt:"Bot image",width:i,height:i,priority:!0,onClick:r})},u=(0,l.forwardRef)((e,t)=>{let{defaultSrc:s,size:i=80,onChange:n,...r}=e,u=(0,l.useRef)(null),m=(0,l.useCallback)(()=>{var e;null===(e=u.current)||void 0===e||e.click()},[]),h=(0,l.useRef)(null),p=(0,l.useCallback)(e=>{var t;null===(t=h.current)||void 0===t||t.call(h,e),null==n||n(e)},[n]),v=(0,l.useMemo)(()=>{var e;return e=[u,t],t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}},[u,t]);return(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsx)(d,{defaultSrc:s,onChangeRef:h,onClick:m,size:i}),(0,a.jsx)(c.t9,{className:o().editPictureButton,type:"button",onClick:m,children:"Edit picture"}),(0,a.jsx)("input",{...r,onChange:p,className:o().input,type:"file",accept:"image/*",multiple:!1,ref:v})]})});u.displayName="ImageSelector";var m=u},38231:function(e,t,s){"use strict";s.d(t,{I:function(){return i},W:function(){return n}});var a=s(90521);let i=async e=>{let t=new FormData;t.append("kind","qtext"),t.append("file",e),t.append("nid","0");let s=await fetch("/api/imgupload_POST",{method:"POST",body:t,headers:{"poe-formkey":(0,a.Mz)()},credentials:"include"});if(!s.ok)throw Error("Image upload failed: "+s.statusText);let i=await s.json();if(!i.success||!i.qimg_urls||!i.qimg_urls.length)throw Error("Image upload failed");return i.qimg_urls[0]},n=async e=>(null==e?void 0:e.length)?await i(e[0]):null},20677:function(e){e.exports={form:"BotInfoForm_form__ssDjH",section:"BotInfoForm_section__evE42",toggleSection:"BotInfoForm_toggleSection__DpGZB",sectionTitle:"BotInfoForm_sectionTitle__tFzwk",subsectionTitle:"BotInfoForm_subsectionTitle__t5lGL",subtext:"BotInfoForm_subtext__qVzVR",submitDisclaimer:"BotInfoForm_submitDisclaimer__enOP5",subtextSuccess:"BotInfoForm_subtextSuccess__lsR4T BotInfoForm_subtext__qVzVR",subtextFailure:"BotInfoForm_subtextFailure__8En5q BotInfoForm_subtext__qVzVR",subtextLinkNoFlex:"BotInfoForm_subtextLinkNoFlex__7maWQ",subtextLink:"BotInfoForm_subtextLink__qwssy BotInfoForm_subtextLinkNoFlex__7maWQ",subtextLinkIcon:"BotInfoForm_subtextLinkIcon__XPKcd",input:"BotInfoForm_input__gpcZm",select:"BotInfoForm_select__lFCl0",textarea:"BotInfoForm_textarea__u9o3a",toggleContainer:"BotInfoForm_toggleContainer__XxFyn",helpText:"BotInfoForm_helpText__utJqu",botImage:"BotInfoForm_botImage__pcY5n",previewArea:"BotInfoForm_previewArea__58ceA",previewHeader:"BotInfoForm_previewHeader__M_4N8",previewTitle:"BotInfoForm_previewTitle__jFlsA",previewMessageArea:"BotInfoForm_previewMessageArea__QcDRK",submitButtonSection:"BotInfoForm_submitButtonSection__Pnzqy",formLink:"BotInfoForm_formLink__pQQ5N",tabBar:"BotInfoForm_tabBar__6g8KP",tabBarItem:"BotInfoForm_tabBarItem__RWa6m",tabBarItemSelected:"BotInfoForm_tabBarItemSelected__jREo_",tabBarItemIcon:"BotInfoForm_tabBarItemIcon__ek0jt",errorText:"BotInfoForm_errorText__UxOOl",chevronDown:"BotInfoForm_chevronDown__LFWWC",chevronDownExpanded:"BotInfoForm_chevronDownExpanded__rpNJH",sectionTitleWithIcon:"BotInfoForm_sectionTitleWithIcon__NLLuD",buttonNoShrink:"BotInfoForm_buttonNoShrink__Nb0Vh",sectionGrow:"BotInfoForm_sectionGrow__scFWE",sectionDesktopHorizontal:"BotInfoForm_sectionDesktopHorizontal__2r6WN BotInfoForm_section__evE42"}},46226:function(e){e.exports={container:"ImageSelector_container__JQqDo",displayImage:"ImageSelector_displayImage__KixND",editPictureButton:"ImageSelector_editPictureButton__ef_Ly",input:"ImageSelector_input__NNS7F"}},76015:function(e){e.exports={select:"Select_select__I0JvU",selectdiv:"Select_selectdiv__ZcVfs",chevronIcon:"Select_chevronIcon__m6b2l"}},88409:function(e){e.exports={switch:"ToggleSwitch_switch__zCK_g",slider:"ToggleSwitch_slider__dcLHT",toggleRow:"ToggleSwitch_toggleRow__0oPzQ",toggleSection:"ToggleSwitch_toggleSection__mEmcn"}}}]);